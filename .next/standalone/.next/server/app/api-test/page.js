(()=>{var e={};e.id=3645,e.ids=[3645],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6357:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>l}),s(3546),s(9716),s(5866);var a=s(3191),n=s(8716),r=s(7922),i=s.n(r),o=s(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(t,c);let l=["",{children:["api-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3546)),"/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/api-test/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9716)),"/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/api-test/page.tsx"],m="/api-test/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/api-test/page",pathname:"/api-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6968:(e,t,s)=>{Promise.resolve().then(s.bind(s,5890))},5890:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(326),n=s(7577),r=s(820);class i{static async checkBackendHealth(){try{let e=await fetch(`${r.$w}/health`);if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();return{backend:!0,message:t.message||"Backend is healthy",timestamp:new Date().toISOString()}}catch(e){return console.error("Backend health check failed:",e),{backend:!1,message:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()}}}static async checkRootEndpoint(){try{let e=await fetch(`${r.$w}/`);if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();return{backend:!0,message:t.message||"Backend is running",timestamp:new Date().toISOString()}}catch(e){return console.error("Root endpoint check failed:",e),{backend:!1,message:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()}}}static async checkOverallHealth(){let e=await this.checkBackendHealth(),t=e.backend;return{backend:e,overall:t,timestamp:new Date().toISOString()}}}var o=s(3722);function c(){let[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)("未確認"),[c,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)(null),x=async()=>{l(!0),m(null);try{let e=await i.checkBackendHealth();t(e)}catch(e){m(e instanceof Error?e.message:"Unknown error")}finally{l(!1)}},h=async()=>{try{let e=o.e8.isAuthenticated(),t=o.e8.isTokenValid();e&&t?r("認証済み・トークン有効"):e?r("認証済み・トークン無効"):r("未認証")}catch(e){r("エラー: "+(e instanceof Error?e.message:"Unknown error"))}};return(0,a.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"\uD83E\uDDEA API接続テスト"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"\uD83D\uDCE1 バックエンド接続状態"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"ステータス:"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e?.backend?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e?.backend?"接続成功":"接続失敗"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"メッセージ:"}),a.jsx("span",{className:"text-gray-800 font-mono text-sm",children:e?.message||"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"最終確認:"}),a.jsx("span",{className:"text-gray-800 text-sm",children:e?.timestamp?new Date(e.timestamp).toLocaleString("ja-JP"):"N/A"})]})]}),a.jsx("button",{onClick:x,disabled:c,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"確認中...":"再確認"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"\uD83D\uDD10 認証状態"}),a.jsx("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"状態:"}),a.jsx("span",{className:"text-gray-800 font-medium",children:s})]})}),a.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"再確認"})]}),d&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-800",children:"❌ エラー"}),a.jsx("p",{className:"text-red-700",children:d})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"ℹ️ 接続情報"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"バックエンドURL:"}),a.jsx("span",{className:"font-mono ml-2",children:"https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"API バージョン:"}),a.jsx("span",{className:"font-mono ml-2",children:"v1"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"環境:"}),a.jsx("span",{className:"font-mono ml-2",children:"本番環境"})]})]})]})]})}},3546:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>o});var a=s(8570);let n=(0,a.createProxy)(String.raw`/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/api-test/page.tsx`),{__esModule:r,$$typeof:i}=n;n.default;let o=(0,a.createProxy)(String.raw`/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/api-test/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,4471,352],()=>s(6357));module.exports=a})();