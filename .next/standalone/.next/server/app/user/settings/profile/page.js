(()=>{var e={};e.id=3506,e.ids=[3506],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(3322),s(9716),s(5866);var r=s(3191),o=s(8716),n=s(7922),i=s.n(n),a=s(5231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let c=["",{children:["user",{children:["settings",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3322)),"/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/user/settings/profile/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9716)),"/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/user/settings/profile/page.tsx"],u="/user/settings/profile/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/user/settings/profile/page",pathname:"/user/settings/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8070:(e,t,s)=>{Promise.resolve().then(s.bind(s,4213))},4213:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(326),o=s(7577),n=s(5047),i=s(1215),a=s(4019),l=s(8679),c=s(7869);function d(){let e=(0,n.useRouter)(),[t,s]=(0,o.useState)({bio:"",lineUserId:""}),[d,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)(""),[g,x]=(0,o.useState)(""),m=async()=>{u(!0),x("");try{let s=localStorage.getItem("access_token"),r=localStorage.getItem("user_id");if(!s||!r)throw Error("認証情報が不足しています");let o={bio:t.bio,line_user_id:t.lineUserId},n=await fetch(`https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1/auth/user/${r}/profile`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(o)});if(!n.ok){let e=await n.json();throw Error(e.detail||"プロフィール情報の更新に失敗しました")}localStorage.setItem("user_bio",t.bio),localStorage.setItem("user_line_user_id",t.lineUserId),h("プロフィール情報が更新されました"),setTimeout(()=>{e.push("/user/settings")},1500)}catch(e){console.error("プロフィール情報更新エラー:",e),x(e.message||"プロフィール情報の更新に失敗しました"),setTimeout(()=>x(""),5e3)}finally{u(!1)}};return(0,r.jsxs)(l.d,{title:"プロフィール編集",subtitle:"プロフィール情報を更新",showBackButton:!0,onBackClick:()=>e.push("/user/settings"),children:[p&&r.jsx("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/30 rounded-lg text-green-300",children:p}),g&&r.jsx(c.Ou,{message:g}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"プロフィール文"}),r.jsx("textarea",{value:t.bio,onChange:e=>s(t=>({...t,bio:e.target.value})),className:"w-full px-3 py-2 bg-white/20 text-white rounded-lg border border-white/20 focus:outline-none focus:border-white/40 resize-none",rows:4,placeholder:"自己紹介を入力してください"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"LINEユーザーID"}),r.jsx("input",{type:"text",value:t.lineUserId,onChange:e=>s(t=>({...t,lineUserId:e.target.value})),className:"w-full px-3 py-2 bg-white/20 text-white rounded-lg border border-white/20 focus:outline-none focus:border-white/40",placeholder:"LINEユーザーIDを入力"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,r.jsxs)(c.Jr,{onClick:m,disabled:d,className:"flex-1 flex items-center justify-center gap-2",children:[r.jsx(i.Z,{size:16}),d?"保存中...":"保存"]}),(0,r.jsxs)(c.Jr,{variant:"secondary",onClick:()=>e.push("/user/settings"),className:"flex-1 flex items-center justify-center gap-2",children:[r.jsx(a.Z,{size:16}),"キャンセル"]})]})]})}},1215:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3322:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});var r=s(8570);let o=(0,r.createProxy)(String.raw`/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/user/settings/profile/page.tsx`),{__esModule:n,$$typeof:i}=o;o.default;let a=(0,r.createProxy)(String.raw`/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/user/settings/profile/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,4471,9727],()=>s(6522));module.exports=r})();