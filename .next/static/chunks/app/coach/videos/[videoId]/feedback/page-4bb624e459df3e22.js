(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{5802:function(e,t,a){Promise.resolve().then(a.bind(a,738))},738:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(7437),n=a(2265),l=a(6463),o=a(488),i=a(4410),r=a(1066);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var d=a(8094);function u(e){let{currentTime:t,duration:a,onSeek:l,onPlayPause:o,isPlaying:i,onSpeedChange:r,playbackSpeed:u,onUndo:m,onRedo:h,onAddKeyframe:x,onConfirm:g}=e,b=(0,n.useRef)(null),[v,p]=(0,n.useState)([]),[f,w]=(0,n.useState)(!1),y=e=>"".concat(Math.floor(e/60),":").concat(Math.floor(e%60).toString().padStart(2,"0"),".").concat(Math.floor(e%1*10)),j=e=>{if(!f||!b.current)return;let t=b.current.getBoundingClientRect();l(Math.max(0,Math.min(1,(e.clientX-t.left)/t.width))*a)},k=e=>{w(!1),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",k)};(0,n.useEffect)(()=>()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",k)},[]);let _=e=>{p(t=>t.filter(t=>t!==e))},N=a>0?t/a*100:0;return(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 mb-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{ref:b,className:"relative h-8 bg-gray-800 rounded-lg cursor-pointer overflow-hidden",onClick:e=>{if(!b.current)return;let t=b.current.getBoundingClientRect();l(Math.max(0,Math.min(1,(e.clientX-t.left)/t.width))*a)},onMouseDown:e=>{var t;e.preventDefault(),e.stopPropagation(),w(!0);let s=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect();s&&l(Math.max(0,Math.min(1,(e.clientX-s.left)/s.width))*a),document.addEventListener("mousemove",j),document.addEventListener("mouseup",k)},onMouseMove:e=>{if(f){var t;let s=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect();s&&l(Math.max(0,Math.min(1,(e.clientX-s.left)/s.width))*a)}},onMouseUp:e=>{w(!1),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",k)},onMouseLeave:e=>{w(!1),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",k)},onTouchStart:e=>{var t;let s=e.touches[0],n=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect();n&&l(Math.max(0,Math.min(1,(s.clientX-n.left)/n.width))*a)},onTouchMove:e=>{var t;let s=e.touches[0],n=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect();n&&l(Math.max(0,Math.min(1,(s.clientX-n.left)/n.width))*a)},children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:"".concat(N,"%")}}),(0,s.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full border-2 border-gray-800",style:{left:"".concat(N,"%")}}),v.map((e,t)=>{let n=e/a*100;return(0,s.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-2 h-2 bg-white rounded-full border border-gray-600",style:{left:"".concat(n,"%")},children:(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),_(e)},className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 hover:bg-red-600 rounded-full text-white text-xs flex items-center justify-center",children:"\xd7"})},t)}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-between px-1 pointer-events-none",children:Array.from({length:6},(e,t)=>(0,s.jsx)("div",{className:"w-0.5 h-2 bg-white/20",style:{left:"".concat(t/5*100,"%")}},t))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-white/80",children:[(0,s.jsx)("span",{children:y(t)}),(0,s.jsx)("span",{children:y(a)})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:o,className:"p-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 rounded-full transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:i?(0,s.jsx)(c,{size:24,className:"text-white"}):(0,s.jsx)(d.Z,{size:24,className:"text-white"})})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"bg-black/20 rounded-lg p-2 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-white/80 text-xs px-2 py-1",children:"再生速度:"}),(0,s.jsx)("button",{onClick:()=>r(.5),className:"px-4 py-2 rounded-lg text-sm font-bold transition-all duration-200 ".concat(.5===u?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black shadow-lg scale-105":"bg-white/20 text-white hover:bg-white/30 hover:scale-105"),children:"0.5x"}),(0,s.jsx)("button",{onClick:()=>r(1),className:"px-4 py-2 rounded-lg text-sm font-bold transition-all duration-200 ".concat(1===u?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black shadow-lg scale-105":"bg-white/20 text-white hover:bg-white/30 hover:scale-105"),children:"1.0x"})]})})}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("div",{className:"text-xs text-white/60 bg-black/20 px-3 py-1 rounded-lg backdrop-blur-sm",children:v.length>0?(0,s.jsxs)("span",{children:["キーフレーム: ",v.length,"個"]}):(0,s.jsx)("span",{children:"キーフレームなし"})})})]})]})}var m=a(9338),h=a(8954),x=a(1902),g=a(8281),b=a(9061);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,r.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),p=[{key:"address",label:"アドレス",description:"構えの姿勢とボールの位置"},{key:"takeback",label:"テイクバック",description:"バックスイングの開始部分"},{key:"halfway_back",label:"ハーフウェイバック",description:"バックスイングの中間点"},{key:"top",label:"トップ",description:"バックスイングの最高点"},{key:"downswing",label:"ダウンスイング",description:"フォワードスイングの開始"},{key:"impact",label:"インパクト",description:"ボールとの接触点"},{key:"follow_through",label:"フォロースルー",description:"インパクト後の振り抜き"},{key:"finish",label:"フィニッシュ",description:"スイングの完了姿勢"}];function f(){var e;let t=(0,l.useRouter)(),a=(0,l.useParams)().videoId,[r,c]=(0,n.useState)(null),[d,f]=(0,n.useState)(!0),[w,y]=(0,n.useState)(!1),[j,k]=(0,n.useState)([]),[_,N]=(0,n.useState)(null),[C,B]=(0,n.useState)({overall_feedback:"",overall_feedback_summary:"",next_training_menu:"",next_training_menu_summary:"",swing_sections:{}});(0,n.useEffect)(()=>{let e=async()=>{try{var e,t,s,n,l;f(!0);let o=localStorage.getItem("access_token");if(!o){console.error("認証トークンがありません"),f(!1);return}let i=await fetch("".concat("https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1","/video/").concat(a,"/with-sections"),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!i.ok){let e=await i.text();throw console.error("動画取得APIエラー:",i.status,e),Error("動画取得に失敗しました: ".concat(i.status))}let r=await i.json();console.log("バックエンドから取得した動画データ:",r);let d={video_id:r.video_id,user_name:(null===(e=r.user)||void 0===e?void 0:e.username)||"Unknown User",club_type:r.club_type||"Unknown Club",swing_form:r.swing_form||"未設定",swing_note:r.swing_note||"",video_url:r.video_url,thumbnail_url:r.thumbnail_url,user_profile:{golf_score_ave:(null===(t=r.user)||void 0===t?void 0:t.golf_score_ave)||"未設定",golf_exp:(null===(s=r.user)||void 0===s?void 0:s.golf_exp)||"未設定",sport_exp:(null===(n=r.user)||void 0===n?void 0:n.sport_exp)||"未設定"},user_email:(null===(l=r.user)||void 0===l?void 0:l.email)||"unknown@example.com"};c(d);let u={};p.forEach(e=>{u[e.key]={feedback:"",rating:5}}),B(e=>({...e,swing_sections:u}))}catch(e){console.error("動画取得エラー:",e),c({video_id:a,user_name:"エラー: データ取得失敗",club_type:"Unknown",swing_form:"未設定",video_url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",thumbnail_url:"https://picsum.photos/400/300?random=1"})}finally{f(!1)}};a&&e()},[a]);let S=(e,t)=>{B(a=>({...a,[e]:t}))},E=e=>{N(e),B(t=>({...t,swing_sections:{...t.swing_sections,[e]:{...t.swing_sections[e],selected:!0}}}))},M=async e=>{try{var t;let s=document.getElementById("feedback-video");if(!s){alert("動画が見つかりません");return}let n=s.currentTime,l=localStorage.getItem("access_token");if(!l){alert("認証トークンがありません");return}let o="https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1",i={video_id:a,session_id:null};console.log("セクショングループ作成リクエスト:",{url:"".concat(o,"/create-section-group/").concat(a),data:i});let c=await fetch("".concat(o,"/create-section-group/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify(i)});if(!c.ok){let e=await c.text();throw console.error("セクショングループ作成エラー:",{status:c.status,statusText:c.statusText,error:e}),Error("セクショングループの作成に失敗しました: ".concat(c.status," - ").concat(e))}let d=await c.json(),u=new FormData;u.append("start_sec",n.toString()),u.append("end_sec",(n+1).toString()),u.append("coach_comment","");let m=await fetch("".concat(o,"/add-section/").concat(d.section_group_id),{method:"POST",headers:{Authorization:"Bearer ".concat(l)},body:u});if(!m.ok)throw Error("セクションの追加に失敗しました");let h=await m.json(),x=await fetch("".concat(o,"/upload/capture-video-frame"),{method:"POST",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify({video_url:r.video_url,section_id:h.section_id,timestamp:n})});if(!x.ok)throw Error("フレームキャプチャに失敗しました");let g=await x.json(),b={key:e,label:(null===(t=p.find(t=>t.key===e))||void 0===t?void 0:t.label)||e,captured_image:g.image_url,start_sec:n,end_sec:n+1,feedback:"",rating:5};k(e=>[...e,b]),B(t=>({...t,swing_sections:{...t.swing_sections,[e]:{...t.swing_sections[e],captured_image:g.image_url,start_sec:n,end_sec:n+1,selected:!1}}})),N(null),alert("".concat(b.label,"のキャプチャが完了しました！"))}catch(e){console.error("キャプチャエラー:",e),alert("キャプチャに失敗しました: "+e)}},T=async()=>{try{y(!0);let e=localStorage.getItem("access_token");if(!e){alert("認証トークンがありません");return}let t=await fetch("".concat("https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1","/coach/add-overall-feedback/").concat(a),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({overall_feedback:C.overall_feedback,overall_feedback_summary:C.overall_feedback_summary,next_training_menu:C.next_training_menu,next_training_menu_summary:C.next_training_menu_summary})});if(!t.ok){let e=await t.text();throw console.error("全体的フィードバック保存エラー:",t.status,e),Error("全体的フィードバックの保存に失敗しました: ".concat(t.status))}console.log("フィードバック保存完了:",C),alert("フィードバックを保存しました")}catch(e){console.error("保存エラー:",e),alert("保存に失敗しました")}finally{y(!1)}},Z=async()=>{try{y(!0),await new Promise(e=>setTimeout(e,1e3)),console.log("フィードバック送信:",C),alert("フィードバックを送信しました"),t.push("/coach/videos")}catch(e){console.error("送信エラー:",e),alert("送信に失敗しました")}finally{y(!1)}},z=()=>{let e=document.getElementById("feedback-video"),t=document.getElementById("time-display");if(e&&t){let a=Math.floor(e.currentTime),s=Math.floor(e.duration);t.textContent="".concat(Math.floor(a/60),":").concat((a%60).toString().padStart(2,"0")," / ").concat(Math.floor(s/60),":").concat((s%60).toString().padStart(2,"0"))}},I=(e,t)=>(0,s.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(a=>(0,s.jsx)("button",{type:"button",onClick:()=>t(a),className:"text-2xl hover:scale-110 transition-transform",children:a<=e?(0,s.jsx)(m.Z,{className:"text-yellow-400 fill-current"}):(0,s.jsx)(m.Z,{className:"text-gray-400"})},a))});return d?(0,s.jsx)(o.d,{title:"Loading...",subtitle:"読み込み中...",showBackButton:!0,onBackClick:()=>t.push("/coach/videos/".concat(a)),backButtonText:"動画詳細",children:(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"})})}):r?(0,s.jsx)(o.d,{title:"添削フィードバック",subtitle:"".concat(r.user_name," さんの").concat(r.club_type,"動画"),showBackButton:!0,onBackClick:()=>t.push("/coach/videos/".concat(a)),backButtonText:"動画詳細",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/10 shadow-2xl",children:[(0,s.jsxs)("h3",{className:"text-white text-xl font-semibold mb-6 flex items-center gap-3",children:[(0,s.jsx)(h.Z,{size:24,className:"text-orange-400"}),"動画プレビューとマークアップ"]}),(0,s.jsx)("div",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-xl overflow-hidden mb-4 shadow-inner",children:(0,s.jsx)("div",{className:"w-full h-[75vh] sm:h-[80vh]",children:r.video_url?(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)("video",{src:r.video_url,className:"w-full h-full object-contain",poster:r.thumbnail_url||void 0,id:"feedback-video",crossOrigin:"anonymous",onTimeUpdate:()=>{document.getElementById("feedback-video")&&z()},onLoadedMetadata:()=>{z()}})}):(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center",children:[(0,s.jsx)(h.Z,{size:64,className:"text-white/40"}),(0,s.jsx)("p",{className:"text-white/60 ml-2",children:"動画がありません"})]})})}),(0,s.jsx)(u,{currentTime:(()=>{let e=document.getElementById("feedback-video");return e?e.currentTime:0})(),duration:(()=>{let e=document.getElementById("feedback-video");return e?e.duration:0})(),onSeek:e=>{let t=document.getElementById("feedback-video");t&&(t.currentTime=e)},onPlayPause:()=>{let e=document.getElementById("feedback-video");e&&(e.paused?e.play():e.pause())},isPlaying:(()=>{let e=document.getElementById("feedback-video");return!!e&&!e.paused})(),onSpeedChange:e=>{let t=document.getElementById("feedback-video");t&&(t.playbackRate=e)},playbackSpeed:1,onUndo:()=>console.log("Undo"),onRedo:()=>console.log("Redo"),onAddKeyframe:()=>console.log("Add keyframe"),onConfirm:()=>console.log("Confirm")}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsx)("div",{className:"flex gap-2 min-w-max mb-4",children:p.map(e=>{var t,a,n;return(0,s.jsx)("button",{onClick:()=>E(e.key),className:"px-4 py-2 text-white text-sm rounded-lg transition-all duration-200 whitespace-nowrap ".concat((null===(t=C.swing_sections[e.key])||void 0===t?void 0:t.selected)?"bg-orange-500 shadow-lg scale-105":(null===(a=C.swing_sections[e.key])||void 0===a?void 0:a.captured_image)?"bg-green-500/20 border-2 border-green-500":"bg-white/10 hover:bg-white/20"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(n=C.swing_sections[e.key])||void 0===n?void 0:n.captured_image)&&(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),e.label]})},e.key)})})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("button",{onClick:()=>_&&M(_),disabled:!_,className:"px-6 py-3 text-white font-medium rounded-lg transition-all duration-200 ".concat(_?"bg-blue-500 hover:bg-blue-600":"bg-gray-500 cursor-not-allowed"),children:_?"".concat(null===(e=p.find(e=>e.key===_))||void 0===e?void 0:e.label,"をキャプチャ"):"セクションを選択してください"})})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/10 shadow-xl",children:[(0,s.jsxs)("h3",{className:"text-white text-lg font-medium mb-4 flex items-center gap-2",children:[(0,s.jsx)(h.Z,{size:20,className:"text-orange-400"}),"動画情報"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{size:16,className:"text-orange-400"}),(0,s.jsx)("span",{className:"text-white/80 text-sm",children:"ユーザー"}),(0,s.jsx)("span",{className:"text-white font-medium",children:r.user_name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{size:16,className:"text-orange-400"}),(0,s.jsx)("span",{className:"text-white/80 text-sm",children:"クラブ"}),(0,s.jsx)("span",{className:"bg-orange-500/20 px-2 py-1 rounded text-xs text-white",children:r.club_type})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-white/80 text-sm",children:"問題"}),(0,s.jsx)("span",{className:"bg-blue-500/20 px-2 py-1 rounded text-xs text-white",children:r.swing_form})]})]})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-xl p-4",children:[(0,s.jsxs)("h3",{className:"text-white text-lg font-medium mb-4 flex items-center gap-2",children:[(0,s.jsx)(g.Z,{size:20,className:"text-orange-400"}),"全体的な評価"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"全体的なフィードバック"}),(0,s.jsx)(i.rl,{label:"全体的なフィードバック",value:C.overall_feedback,onChange:e=>S("overall_feedback",e.target.value),placeholder:"スイング全体についての総合的な評価とアドバイスを記入してください...",rows:4})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"フィードバック要約"}),(0,s.jsx)(i.tL,{label:"フィードバック要約",value:C.overall_feedback_summary,onChange:e=>S("overall_feedback_summary",e.target.value),placeholder:"フィードバックの要点を簡潔に..."})]})]})]}),j.length>0&&(0,s.jsxs)("div",{className:"bg-white/10 rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"text-white text-lg font-medium mb-4",children:"キャプチャされたセクションのフィードバック"}),(0,s.jsx)("div",{className:"space-y-6",children:j.map(e=>(0,s.jsxs)("div",{className:"border-b border-white/20 pb-4 last:border-b-0",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h4",{className:"text-white font-medium mb-1",children:e.label}),(0,s.jsxs)("p",{className:"text-white/60 text-sm",children:["時間: ",e.start_sec,"s - ",e.end_sec,"s"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("img",{src:e.captured_image,alt:"".concat(e.label,"のキャプチャ"),className:"w-full max-w-md rounded-lg border border-white/20"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("button",{onClick:()=>console.log("".concat(e.label,"にマークアップを追加")),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm rounded-lg transition-all duration-200",children:"マークアップ追加"})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"評価"}),I(e.rating,t=>{k(a=>a.map(a=>a.key===e.key?{...a,rating:t}:a))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"フィードバック"}),(0,s.jsx)(i.rl,{label:"フィードバック",value:e.feedback,onChange:t=>{k(a=>a.map(a=>a.key===e.key?{...a,feedback:t.target.value}:a))},placeholder:"".concat(e.label,"についての具体的なアドバイスを記入してください..."),rows:3})]})]})]},e.key))})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"text-white text-lg font-medium mb-4",children:"未キャプチャのセクション"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.filter(e=>{var t;return!(null===(t=C.swing_sections[e.key])||void 0===t?void 0:t.captured_image)}).map(e=>(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:()=>E(e.key),className:"w-full px-3 py-2 bg-white/5 hover:bg-white/10 text-white text-sm rounded-lg transition-all duration-200",children:e.label})},e.key))})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"text-white text-lg font-medium mb-4",children:"次の練習メニュー"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"練習メニュー"}),(0,s.jsx)(i.rl,{label:"練習メニュー",value:C.next_training_menu,onChange:e=>S("next_training_menu",e.target.value),placeholder:"改善のための具体的な練習メニューを記入してください...",rows:4})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"メニュー要約"}),(0,s.jsx)(i.tL,{label:"メニュー要約",value:C.next_training_menu_summary,onChange:e=>S("next_training_menu_summary",e.target.value),placeholder:"練習メニューの要点を簡潔に..."})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)(i.rv,{onClick:T,disabled:w,className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[(0,s.jsx)(b.Z,{size:20}),w?"保存中...":"下書き保存"]}),(0,s.jsxs)(i.rv,{onClick:Z,disabled:w,className:"flex-1 bg-blue-500 hover:bg-blue-600",children:[(0,s.jsx)(v,{size:20}),w?"送信中...":"フィードバック送信"]})]})]})}):(0,s.jsx)(o.d,{title:"エラー",subtitle:"動画が見つかりません",showBackButton:!0,onBackClick:()=>t.push("/coach/videos"),backButtonText:"動画一覧",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-red-400 mb-4",children:"動画の読み込みに失敗しました"}),(0,s.jsx)(i.rv,{onClick:()=>t.push("/coach/videos"),children:"動画一覧に戻る"})]})})}},8281:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(1066).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},8094:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(1066).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},9061:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(1066).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},9338:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},1902:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(1066).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])}},function(e){e.O(0,[571,971,23,744],function(){return e(e.s=5802)}),_N_E=e.O()}]);