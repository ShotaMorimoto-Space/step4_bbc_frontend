"use strict";(()=>{var e={};e.id=8873,e.ids=[8873],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7837:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>p,staticGenerationAsyncStorage:()=>c});var a={};s.r(a),s.d(a,{POST:()=>i});var r=s(9303),o=s(8716),n=s(670),u=s(7070);async function i(e){try{console.log("=== プロキシPOSTリクエスト受信開始 ==="),console.log("リクエストURL:",e.url),console.log("リクエストメソッド:",e.method),console.log("リクエストヘッダー:",Object.fromEntries(e.headers.entries()));let t=await e.formData();console.log("プロキシ経由でログインリクエスト詳細:",{username:t.get("username"),hasPassword:!!t.get("password"),passwordLength:t.get("password")?.toString().length||0,formDataEntries:Array.from(t.entries()),formDataKeys:Array.from(t.keys()),formDataValues:Array.from(t.values())}),console.log("バックエンドへのリクエスト送信..."),console.log("バックエンドURL:","https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1/auth/token");try{console.log("バックエンドへのリクエスト詳細:",{url:"https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1/auth/token",method:"POST",bodyType:"FormData",formDataContent:{username:t.get("username"),hasPassword:!!t.get("password"),passwordLength:t.get("password")?.toString().length||0}});let e=await fetch("https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net/api/v1/auth/token",{method:"POST",body:t,headers:{Accept:"application/json"}});if(console.log("バックエンドレスポンス受信:",{status:e.status,statusText:e.statusText,ok:e.ok,headers:Object.fromEntries(e.headers.entries())}),!e.ok){let t=await e.text();console.error("バックエンドエラー詳細:",{status:e.status,statusText:e.statusText,body:t,headers:Object.fromEntries(e.headers.entries())});let s=t;try{let e=JSON.parse(t);e.detail?s=e.detail:e.message&&(s=e.message)}catch(e){console.log("エラーデータのJSON解析に失敗:",e)}return u.NextResponse.json({error:`Backend error: ${e.status} ${e.statusText}`,details:s,backendStatus:e.status,rawResponse:t},{status:e.status})}let s=await e.json();return console.log("バックエンドレスポンス成功:",s),u.NextResponse.json(s)}catch(e){return console.error("バックエンドへのリクエストでエラー:",e),u.NextResponse.json({error:"Backend request failed",details:e instanceof Error?e.message:"Unknown error",backendStatus:0},{status:500})}}catch(e){return console.error("プロキシエラー:",e),u.NextResponse.json({error:"Proxy error",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/app/api/auth/login/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:p}=l,g="/api/auth/login/route";function h(){return(0,n.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>s(7837));module.exports=a})();