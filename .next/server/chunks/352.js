exports.id=352,exports.ids=[352],exports.modules={3611:(e,t,a)=>{Promise.resolve().then(a.bind(a,6477))},6971:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},820:(e,t,a)=>{"use strict";a.d(t,{$w:()=>r,CT:()=>s,Hz:()=>o,Pn:()=>i,WU:()=>n,wF:()=>l});let o={BASE_URL:"https://aps-bbc-02-dhdqd5eqgxa7f0hg.canadacentral-01.azurewebsites.net",API_VERSION:process.env.NEXT_PUBLIC_API_VERSION||"v1",TIMEOUT:3e4,MAX_RETRIES:3,RETRY_DELAY:1e3},s=`${o.BASE_URL}/api/${o.API_VERSION}`,r=o.BASE_URL,i={AUTH:{LOGIN:"/auth/token",REGISTER_USER:"/auth/register/user",REGISTER_COACH:"/auth/register/coach",ME:"/auth/me"},USER:{PROFILE:"/user/profile",MY_VIDEOS:"/my-videos",MY_RESERVATIONS:"/my-reservations",CREATE_RESERVATION:"/create-reservation"},COACH:{PROFILE:"/coach/profile",SAVE_ADVICES:"/coach/save-advices",GET_ADVICES:"/coach/get-advices",CREATE_SECTION_GROUP:"/coach/create-section-group",ADD_SECTION:"/coach/add-section",ADD_COACH_COMMENT:"/coach/add-coach-comment",UPDATE_SECTION:"/coach/update-section",GET_SECTION:"/coach/section",GET_SECTIONS:"/coach/sections",DELETE_SECTION:"/coach/section",ANALYZE_SECTION:"/coach/analyze-section",ADD_OVERALL_FEEDBACK:"/coach/add-overall-feedback",GET_OVERALL_FEEDBACK:"/coach/overall-feedback"},VIDEO:{GET_VIDEO:"/video",GET_VIDEO_WITH_SECTIONS:"/video/with-sections",GET_FEEDBACK_SUMMARY:"/video/feedback-summary",GET_ALL_VIDEOS:"/videos",SEARCH_VIDEOS:"/videos/search",CREATE_SESSION:"/video/session",GET_SESSIONS:"/video/sessions",GET_SESSION:"/session",UPDATE_SESSION:"/session",DELETE_SESSION:"/session"},UPLOAD:{UPLOAD_VIDEO:"/upload/upload-video",UPLOAD_THUMBNAIL:"/upload/upload-thumbnail",UPLOAD_STATUS:"/upload/upload-status",DELETE_VIDEO:"/upload/video",CLEAR_ALL_DATA:"/upload/clear-all-data",PROXY_FILE:"/upload/proxy-file",MEDIA_URL:"/upload/media-url",MEDIA_URL_SIMPLE:"/upload/media-url-simple",CAPTURE_VIDEO_FRAME:"/upload/capture-video-frame",UPLOAD_MARKUP_IMAGE:"/upload/upload-markup-image"},TRANSCRIPTION:{TRANSCRIBE_AUDIO:"/transcription/transcribe-audio"},LINE:{WEBHOOK:"/line/webhook",LOGIN:"/line/login",DEV_ECHO:"/line/dev/echo"},LOCATION:{LIST:"/locations",GET:"/locations",CREATE:"/locations",UPDATE:"/locations"},MEDIA_URL:"/media-url",PROXY_FILE:"/proxy-file",UPLOAD_SECTION_IMAGE:"/upload-section-image",UPLOAD_MARKUP_IMAGE_MAIN:"/upload-markup-image"},n={GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE"},l={JSON:"application/json",FORM_DATA:"multipart/form-data",TEXT:"text/plain"}},6477:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var o=a(326),s=a(7577);let r={ja:{tab:{home:"ホーム",request:"添削依頼",mypage:"マイページ",settings:"設定"},settings:{title:"設定",profileTitle:"プロフィール",editProfile:"プロフィールを編集",general:"基本設定",language:"言語",language_ja:"日本語",language_en:"English",appearance:"表示モード",theme_light:"ライト",theme_dark:"ダーク",theme_system:"端末に合わせる",brightness:"背景の明るさ",appSettings:"アプリ設定",notifications:"通知設定",subscription:"プラン / チケット",favoritesCoaches:"お気に入りコーチ",videoPrefs:"動画アップロード設定",dataStorage:"データと保存容量",support:"サポート",help:"ヘルプ / お問い合わせ",terms:"利用規約",privacy:"プライバシー",about:"アプリ情報",rate:"アプリを評価",back:"戻る"},mypage:{title:"マイページ"},coach:{signup:{title:"コーチ登録",step1:"基本情報",step2:"経験・料金",step3:"SNS・プロフィール",step4:"拠点・対応",basic:{name:"氏名",name_kanji:"氏名（漢字）",name_kana:"氏名（フリガナ）",email:"メールアドレス",phone:"電話番号",birthday:"生年月日",sex:"性別",line_id:"LINE ID",male:"男性",female:"女性",other:"その他"},career:{golf_exp:"ゴルフ歴（年）",hourly_rate:"時給（円）",certification:"認定資格",lesson_rank:"レッスンランク",bio:"自己紹介",rank_high:"上級",rank_low:"初級",lesson_level:"レッスン対応レベル",levels:{beginner:"初心者",intermediate:"中級者",advanced:"上級者"},competitive:"競技者（大会出場者）対応可"},social:{profile_picture:"プロフィール画像",instagram:"Instagram",twitter:"X (Twitter)",youtube:"YouTube",facebook:"Facebook",tiktok:"TikTok"},location:{main_location:"主拠点",support_locations:"対応会場",online_support:"オンラインレッスン対応",notes:"備考・条件"},submit:"応募を送信",submitting:"送信中...",success:"コーチ申請を受け付けました",thankyou:"ありがとうございます",review_message:"審査には1-3営業日かかります。結果はメールでご連絡します。"}},home:{title:"ホーム"}},en:{tab:{home:"Home",request:"Request",mypage:"My Page",settings:"Settings"},settings:{title:"Settings",profileTitle:"Profile",editProfile:"Edit Profile",general:"General",language:"Language",language_ja:"Japanese",language_en:"English",appearance:"Appearance",theme_light:"Light",theme_dark:"Dark",theme_system:"Use system",brightness:"Background brightness",appSettings:"App Settings",notifications:"Notifications",subscription:"Plan / Tickets",favoritesCoaches:"Favorite Coaches",videoPrefs:"Upload Preferences",dataStorage:"Data & Storage",support:"Support",help:"Help / Contact",terms:"Terms",privacy:"Privacy",about:"About",rate:"Rate this app",back:"Back"},mypage:{title:"My Page"},coach:{signup:{title:"Coach Registration",step1:"Basic Info",step2:"Experience & Rate",step3:"Social & Profile",step4:"Location & Support",basic:{name:"Name",name_kanji:"Name (Kanji)",name_kana:"Name (Kana)",email:"Email",phone:"Phone",birthday:"Birthday",sex:"Gender",line_id:"LINE ID",male:"Male",female:"Female",other:"Other"},career:{golf_exp:"Golf Experience (Years)",hourly_rate:"Hourly Rate (\xa5)",certification:"Certification",lesson_rank:"Lesson Rank",bio:"Bio",rank_high:"Advanced",rank_low:"Beginner",lesson_level:"Lesson level you can coach",levels:{beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"},competitive:"Can coach competitive players"},social:{profile_picture:"Profile Picture",instagram:"Instagram",twitter:"X (Twitter)",youtube:"YouTube",facebook:"Facebook",tiktok:"TikTok"},location:{main_location:"Main Location",support_locations:"Support Locations",online_support:"Online Lesson Support",notes:"Notes & Conditions"},submit:"Submit Application",submitting:"Submitting...",success:"Coach application received",thankyou:"Thank you",review_message:"Review takes 1-3 business days. We will contact you by email."}},home:{title:"Home"}}},i=(0,s.createContext)(null),n=({children:e})=>{let[t,a]=(0,s.useState)("ja");(0,s.useEffect)(()=>{let e=localStorage.getItem("sb:lang");e&&("ja"===e||"en"===e)&&a(e)},[]),(0,s.useEffect)(()=>{localStorage.setItem("sb:lang",t)},[t]);let n=(0,s.useMemo)(()=>e=>{var a;return a=r[t],e.split(".").reduce((e,t)=>e?e[t]:void 0,a)??e},[t]);return o.jsx(i.Provider,{value:{lang:t,setLang:a,t:n},children:e})};function l({children:e}){return o.jsx(n,{children:e})}},3722:(e,t,a)=>{"use strict";a.d(t,{e8:()=>E});var o=a(820);class s extends Error{constructor(e,t,a,o){super(o||`API Error: ${e} ${t}`),this.status=e,this.statusText=t,this.responseData=a,this.name="ApiError"}}class r{static{this.TOKEN_KEY="sb:auth_token"}static{this.REFRESH_TOKEN_KEY="sb:refresh_token"}static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}static getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}static setRefreshToken(e){localStorage.setItem(this.REFRESH_TOKEN_KEY,e)}static clearTokens(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY)}static isTokenExpired(e){try{let t=JSON.parse(atob(e.split(".")[1])),a=1e3*t.exp;return Date.now()>=a}catch{return!0}}}async function i(e,t,a=o.Hz.MAX_RETRIES){try{let a=await fetch(e,t);if(a.ok||a.status>=500||a.status>=400&&a.status<500)return a;throw Error(`HTTP ${a.status}: ${a.statusText}`)}catch(s){if(a>0)return await new Promise(e=>setTimeout(e,o.Hz.RETRY_DELAY)),i(e,t,a-1);throw s}}async function n(e,t,a=o.Hz.TIMEOUT){let r=new AbortController,n=setTimeout(()=>r.abort(),a);try{let a=await i(e,{...t,signal:r.signal});return clearTimeout(n),a}catch(e){if(clearTimeout(n),e instanceof Error&&"AbortError"===e.name)throw new s(408,"Request Timeout",null,"リクエストがタイムアウトしました");throw e}}async function l(e,t={}){let{method:a=o.WU.GET,headers:i={},body:l,timeout:c=o.Hz.TIMEOUT}=t,u=e.startsWith("http")?e:`${o.CT}${e}`,E={"Content-Type":o.wF.JSON,...i},d=r.getToken();d&&!r.isTokenExpired(d)&&(E.Authorization=`Bearer ${d}`);let h={method:a,headers:E,credentials:"include"};l&&(l instanceof FormData?(delete E["Content-Type"],h.body=l):"string"==typeof l?h.body=l:h.body=JSON.stringify(l));try{let e;let t=await n(u,h,c),a=t.headers.get("content-type");if(e=a&&a.includes("application/json")?await t.json():a&&a.includes("text/")?await t.text():await t.blob(),!t.ok)throw new s(t.status,t.statusText,e,`API request failed: ${t.status} ${t.statusText}`);return{data:e,status:t.status,statusText:t.statusText,headers:Object.fromEntries(t.headers.entries())}}catch(e){if(e instanceof s)throw e;throw new s(0,"Network Error",null,e instanceof Error?e.message:"ネットワークエラーが発生しました")}}let c={get:(e,t)=>l(e,{...t,method:o.WU.GET}),post:(e,t,a)=>l(e,{...a,method:o.WU.POST,body:t})},u={isAuthenticated:()=>{let e=r.getToken();return null!==e&&!r.isTokenExpired(e)},getToken:()=>r.getToken(),setToken:e=>r.setToken(e),logout:()=>{r.clearTokens(),localStorage.removeItem("sb:auth"),localStorage.removeItem("sb:roleCandidate")}};class E{static async login(e){try{console.log("ログイン送信データ:",JSON.stringify({username:e.username,endpoint:o.Pn.AUTH.LOGIN,fullUrl:`${o.CT}${o.Pn.AUTH.LOGIN}`},null,2));let t=new FormData;t.append("username",e.username),t.append("password",e.password),console.log("FormData送信:",JSON.stringify({username:e.username,password:"***",formDataEntries:Array.from(t.entries())},null,2)),console.log("=== プロキシ経由でログインを試行開始 ==="),console.log("プロキシURL:","/api/auth/login"),console.log("リクエストメソッド:","POST"),console.log("FormData内容:",Array.from(t.entries()));let a=await fetch("/api/auth/login",{method:"POST",body:t});if(console.log("プロキシレスポンス受信:",{status:a.status,statusText:a.statusText,ok:a.ok,headers:Object.fromEntries(a.headers.entries())}),!a.ok){let e=await a.text();console.error("プロキシレスポンスエラー:",{status:a.status,statusText:a.statusText,body:e});try{let t=JSON.parse(e);if(console.log("プロキシエラーデータ詳細:",t),t.details)throw Error(`Backend Error: ${t.error}
Details: ${t.details}
Raw: ${t.rawResponse||"N/A"}`)}catch(e){console.log("エラーデータの解析に失敗:",e)}throw Error(`HTTP ${a.status}: ${a.statusText}`)}let s=await a.json();return console.log("プロキシレスポンス成功:",s),s.access_token&&u.setToken(s.access_token),s}catch(e){throw console.error("Login failed:",e),e}}static async registerUser(e){try{return(await c.post(o.Pn.AUTH.REGISTER_USER,e)).data}catch(e){throw console.error("User registration failed:",e),e}}static async registerCoach(e){try{return(await c.post(o.Pn.AUTH.REGISTER_COACH,e)).data}catch(e){throw console.error("Coach registration failed:",e),e}}static async getMe(){try{return(await c.get(o.Pn.AUTH.ME)).data}catch(e){throw console.error("Failed to get user info:",e),e}}static async logout(){try{u.logout()}catch(e){console.error("Logout failed:",e),u.logout()}}static isAuthenticated(){return u.isAuthenticated()}static getToken(){return u.getToken()}static isTokenValid(){let e=this.getToken();if(!e)return!1;try{let t=JSON.parse(atob(e.split(".")[1])),a=1e3*t.exp;return Date.now()<a}catch{return!1}}static async getUserRole(){try{if(!this.isAuthenticated())return null;return(await this.getMe()).role}catch(e){return console.error("Failed to get user role:",e),null}}}},9716:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,metadata:()=>c});var o=a(9510);a(7272);var s=a(8570);let r=(0,s.createProxy)(String.raw`/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/src/i18n/ClientProviders.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,s.createProxy)(String.raw`/Users/morimotoshouta/Desktop/tech0/STEP4/BBC/bbc-golf-coaching-backend-ver2-main/frontend/src/i18n/ClientProviders.tsx#default`),c={title:"SWING BUDDY",description:"Standalone Next.js Frontend"};function u({children:e}){return o.jsx("html",{lang:"ja",children:o.jsx("body",{children:o.jsx(l,{children:e})})})}},7272:()=>{}};